---
import PricingPlan from "./PricingPlan.astro";

const starterFeatures = [
    "✔ - Landing page profesional",
    "✔ - Responsive (PC y móvil)",
    "✔ - Formulario de contacto",
    "✔ - Optimización básica SEO",
    "✔ - Hosting y dominio incluidos",
    "✔ - Mantenimiento técnico mensual",
];

const proFeatures = [
    "✔ - Hasta 3 secciones personalizadas",
    "✔ - Diseño a medida",
    "✔ - SEO optimizado por página",
    "✔ - Google Analytics + Tag Manager",
    "✔ - Mantenimiento + cambios menores mensuales",
];

const growthFeatures = [
    "✔ - Todo lo del plan Pro",
    "✔ - Integración con campañas de Google Ads",
    "✔ - Optimización mensual de rendimiento",
    "✔ - Informes mensuales de tráfico y resultados",
    "✔ - Asesoría personalizada",
    "✔ - Prioridad en cambios y soporte",
];

// Calcular precios con descuento
const calculateDiscountedPrice = (originalPrice: number) => {
  const discount = 0.3; // 30% de descuento
  const discountedPrice = Math.round(originalPrice * (1 - discount));
  return {
    original: `${originalPrice}€`,
    discounted: `${discountedPrice}€`
  };
};

const starterSetupFee = calculateDiscountedPrice(180);
const proSetupFee = calculateDiscountedPrice(350);
const growthSetupFee = calculateDiscountedPrice(490);
---

<section class="py-16 px-4 sm:px-8">
  <div class="max-w-7xl mx-auto">    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <PricingPlan
        title="Starter"
        price="59€"
        setupFee={`${starterSetupFee.original} → ${starterSetupFee.discounted} pago inicial`}
        setupDiscount="30% OFF"
        features={starterFeatures}
        color="background"
      />
      
      <PricingPlan
        title="Pro"
        price="149€"
        setupFee={`${proSetupFee.original} → ${proSetupFee.discounted} pago inicial`}
        setupDiscount="30% OFF"
        features={proFeatures}
        isPopular={true}
        color="secondary"
      />
      
      <PricingPlan
        title="Growth"
        price="199€"
        setupFee={`${growthSetupFee.original} → ${growthSetupFee.discounted} pago inicial`}
        setupDiscount="30% OFF"
        features={growthFeatures}
        color="background"
      />
    </div>
  </div>
</section> 