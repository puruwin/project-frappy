---
interface Props {
  title?: string;
}

const { 
  title = "Frappé"
} = Astro.props;
---

<header class="bg-white/80 backdrop-blur-md border-b border-[var(--color-border)] fixed w-full top-0 z-50 h-[60px] sm:h-[76px]">
  <div class="w-full h-full flex flex-row justify-between items-center px-4 sm:px-8">
    <a href="/" class="hover:opacity-80 transition-opacity">
      <p class="font-['JetBrains_Mono_Variable'] text-xl sm:text-2xl text-[var(--color-secondary)]">
        {title}
      </p>
    </a>
    <nav class="h-full flex items-center">
      <button class="sm:hidden text-2xl p-2 text-[var(--color-secondary)]">☰</button>
      <ul class="hidden sm:flex text-sm gap-8 font-medium font-['Montserrat_Variable'] h-full items-center">
        <li>
          <a href="/#sobre-nosotros" class="text-[var(--color-text)] hover:text-[var(--color-text-offset)] transition-colors whitespace-nowrap">
            Sobre nosotros
          </a>
        </li>
        <li>
          <a href="/#precios" class="text-[var(--color-text)] hover:text-[var(--color-text-offset)] transition-colors whitespace-nowrap">
            Precios
          </a>
        </li>
        <li>
          <a href="/#faq" class="text-[var(--color-text)] hover:text-[var(--color-text-offset)] transition-colors whitespace-nowrap">
            Preguntas frecuentes
          </a>
        </li>
      </ul>
    </nav>
  </div>

  <!-- Menú móvil -->
  <div class="mobile-menu hidden fixed top-[60px] left-0 w-full bg-white sm:hidden z-50">
    <ul class="flex flex-col text-sm font-bold font-['Montserrat_Variable'] p-4">
      <li class="py-2">
        <a href="/#sobre-nosotros" class="hover:text-primary transition-colors" style="
          border-bottom: var(--border-brutal);
        ">Sobre nosotros</a>
      </li>
      <li class="py-2">
        <a href="/#precios" class="hover:text-primary transition-colors" style="
          border-bottom: var(--border-brutal);
        ">Precios</a>
      </li>
      <li class="py-2">
        <a href="/#faq" class="hover:text-primary transition-colors" style="
          border-bottom: var(--border-brutal);
        ">Preguntas frecuentes</a>
      </li>
    </ul>
  </div>
</header>

<script>
  const menuButton = document.querySelector('button');
  const mobileMenu = document.querySelector('.mobile-menu');

  menuButton?.addEventListener('click', (e) => {
    e.stopPropagation();
    mobileMenu?.classList.toggle('hidden');
  });

  // Cerrar menú al hacer click en un enlace
  const menuLinks = mobileMenu?.querySelectorAll('a');
  menuLinks?.forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
    });
  });

  // Cerrar menú al hacer click fuera
  document.addEventListener('click', (e) => {
    if (!mobileMenu?.contains(e.target as Node) && !menuButton?.contains(e.target as Node)) {
      mobileMenu?.classList.add('hidden');
    }
  });
</script> 